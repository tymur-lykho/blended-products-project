{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-function.js","../src/js/products-api.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nconst refs = {\n  categoryList: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  notFound: document.querySelector('.not-found'),\n  searchForm: document.querySelector('.search-form'),\n  clearFormBtn: document.querySelector('.search-form__btn-clear'),\n};\n\nexport default refs;\n","//Функцію для створення, рендеру або видалення розмітки\nimport refs from './refs';\n\nexport function renderCategories(categories) {\n  categories.unshift('all');\n  //categories.unshift('not-res-category');//for test\n  const markup = categories\n    .map(category => {\n      return `<li class=\"categories__item\">\n        <button class=\"categories__btn\" type=\"button\">${category}</button>\n      </li>`;\n    })\n    .join('');\n\n  refs.categoryList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProducts(products) {\n  refs.products.innerHTML = '';\n  if (products.length === 0) {\n    refs.notFound.classList.add('not-found--visible');\n    return;\n  }\n  refs.notFound.classList.remove('not-found--visible');\n  const markup = products\n    .map(({ id, thumbnail, title, brand, category, price }) => {\n      return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category:${category} </p>\n    <p class=\"products__price\">Price: $${price} </p>\n </li>`;\n    })\n    .join('');\n\n  refs.products.insertAdjacentHTML('beforeend', markup);\n}\n","// Функції для роботи з бекендом\nimport axios from 'axios';\n\nconst BASE_URL = 'https://dummyjson.com/products';\nconst URL_CATEGORIES = 'https://dummyjson.com/products/category-list';\n\nexport async function getCategories() {\n  const res = await axios.get(URL_CATEGORIES);\n  return res.data;\n}\n\nexport async function getProducts(currentPage = 1) {\n  const res = await axios.get(\n    `${BASE_URL}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return res.data.products;\n}\n\nexport async function getProductsByCategory(category, currentPage = 1) {\n  const res = await axios.get(\n    `${BASE_URL}/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return res.data.products;\n}\n\nexport async function getProductsBySearchQuery(query, currentPage = 1) {\n  const res = await axios.get(`${BASE_URL}/search?q=${query}`);\n  return res.data.products;\n}\n","// Функції, які передаються колбеками в addEventListners\nimport refs from './refs';\nimport {\n  getProducts,\n  getProductsByCategory,\n  getProductsBySearchQuery,\n} from './products-api';\nimport { renderProducts } from './render-function';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport async function handleClickbyCategory(event) {\n  let data;\n  const btn = event.target;\n  if (btn.nodeName === 'BUTTON') {\n    const currentCategory = btn.textContent;\n    clearCategoryBtns();\n    btn.classList.add('categories__btn--active');\n    if (currentCategory !== 'all') {\n      data = await getProductsByCategory(currentCategory);\n    } else {\n      data = await getProducts();\n    }\n    renderProducts(data);\n  }\n}\n\nexport async function handleSubmitForm(event) {\n  event.preventDefault();\n  const form = event.target;\n  const query = form.elements['searchValue'].value.trim();\n  if (!query) {\n    iziToast.info({\n      title: 'Info',\n      position: 'topRight',\n      message: 'Enter a search term!',\n    });\n    return;\n  }\n  const data = await getProductsBySearchQuery(query);\n  clearCategoryBtns();\n  renderProducts(data);\n}\n\nexport async function handleClearForm() {\n  refs.searchForm.elements['searchValue'].value = '';\n  const data = await getProducts();\n  clearCategoryBtns();\n  renderProducts(data);\n}\n\nfunction clearCategoryBtns() {\n  const categoryBtns = document.querySelectorAll('.categories__btn--active');\n  for (let btn of categoryBtns) {\n    btn.classList.remove('categories__btn--active');\n  }\n}\n","import refs from './js/refs';\nimport { renderCategories, renderProducts } from './js/render-function';\nimport { getCategories, getProducts } from './js/products-api';\nimport {\n  handleClickbyCategory,\n  handleSubmitForm,\n  handleClearForm,\n} from './js/handlers';\n\n//Логіка сторінки Home\ninitHome();\n\nasync function initHome() {\n  renderCategories(await getCategories());\n  renderProducts(await getProducts());\n}\n\nrefs.categoryList.addEventListener('click', handleClickbyCategory);\n\nrefs.searchForm.addEventListener('submit', handleSubmitForm);\n\nrefs.clearFormBtn.addEventListener('click', handleClearForm);\n"],"names":["refs","renderCategories","categories","markup","category","renderProducts","products","id","thumbnail","title","brand","price","BASE_URL","URL_CATEGORIES","getCategories","axios","getProducts","currentPage","getProductsByCategory","getProductsBySearchQuery","query","handleClickbyCategory","event","data","btn","currentCategory","clearCategoryBtns","handleSubmitForm","iziToast","handleClearForm","categoryBtns","initHome"],"mappings":"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"}